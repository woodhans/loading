/*! author Hans.Wu http://www.hanswu.com
 * project: https://github.com/woodhans/loading
 require jquery 1.6+*/
(function(a,b,c){var d=function(){return{a:function(b,c){this.o=c;this.m=b;this.e()},e:function(){t=this;if(typeof(t.o.items)=="string")t.o.items=t.o.items.toLowerCase().split("A");Array.isArray(t.o.items)&&t.g();n=0;z=t.o.items.length;for(i=0;i<z;i++){b=t.u(t.o.items[i]);if(b){$.ajax({url:t.o.items[i],async:false,success:function(){n++;t.o.loadingPercent&&t.m.find(".loading-percent").html("<span>"+parseInt(n/len*100)+"</span> %");t.o.loadingAnimate&&t.m.find(".loading-animate").width((n/len*100)+"%");if(n==z){t.f();typeof(t.o.loaded)=="function"&&t.o.loaded.call()}},error:function(){n++}})}else n++}},g:function(){t=this;h=[];h.push("<div class='loading-wrapper'><div class='loading-inner'>");t.o.loadingImg&&h.push("<div class='loading-img'>"+(typeof(t.o.loadingImg)=="string"&&t.u(t.o.loadingImg)=="IMG"?"<img src='"+t.o.loadingImg+"'/>":"")+"</div>");t.o.loadingAnimate&&h.push("<div class='loading-animate-bg'><div class='loading-animate'></div></div>");t.o.loadingPercent&&h.push("<div class='loading-percent'></div>");t.o.loadingTime&&h.push("<div class='loading-time'></div>");t.o.customAnimate&&h.push("<div class='loading-custom'></div>");h.push("</div></div>");t.m.addClass("loading-body").append(h.join(''));if(t.o.loadingTime){x=t.m.find(".loading-time");r=0;clearTimeout(t.v);t.v=setTimeout(function(){r+=.1;x.html(r+" s")},100)}t.o.customAnimate&&typeof(t.o.customAnimate)=="function"&&t.o.customAnimate.call()},f:function(){t=this;t.o.loadingTime&&clearTimeout(t.v);t.m.removeClass("loading-body").find('.loading-wrapper').remove()},u:function(s){p=s.split('.').pop().toLowerCase().split("?")[0];switch(p){case"jpg"||"png"||"gif"||"jpeg"||"ico":r="IMG";break;case"mp3"||"ogg"||"wav":r="AUDIO";break;case"mp4"||"webm":r="VIDEO";break;case"css":r="STYLE";break;case"js":r="SCRIPT";break;default:r=!1;break;}return r}}};$.fn.loading=function(s){s=$.extend({},$.fn.loading.s,s);if(typeof(s.loaded)!="function")s.loaded=null;if(typeof(s.customAnimate)!="function"||typeof(s.customAnimate)!="boolean")s.customAnimate=!1;l=new d();l.a(this,s)};$.fn.loading.s={items:[],loaded:null,loadingTime:!1,loadingPercent:!0,loadingAnimate:!0,loadingImg:!1,customAnimate:!1}}(jQuery,window,document));